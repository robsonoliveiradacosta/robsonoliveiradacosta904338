# Application Configuration
quarkus.application.name=quarkus-api-artistas-albuns

# HTTP Configuration
quarkus.http.port=8080
quarkus.http.cors=true
quarkus.http.cors.origins=${CORS_ALLOWED_ORIGINS:http://localhost:3000}
quarkus.http.cors.methods=GET,POST,PUT,DELETE,OPTIONS
quarkus.http.cors.headers=Authorization,Content-Type

# Database Configuration
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=${DB_USERNAME:postgres}
quarkus.datasource.password=${DB_PASSWORD:postgres}
quarkus.datasource.jdbc.url=${DB_URL:jdbc:postgresql://localhost:5432/music_catalog}
quarkus.datasource.jdbc.max-size=16

# Hibernate ORM Configuration
quarkus.hibernate-orm.database.generation=none
quarkus.hibernate-orm.log.sql=true
quarkus.hibernate-orm.sql-load-script=no-file

# Flyway Configuration
quarkus.flyway.migrate-at-start=true
quarkus.flyway.baseline-on-migrate=true
quarkus.flyway.baseline-version=0
quarkus.flyway.locations=classpath:db/migration

# JWT Configuration
mp.jwt.verify.publickey.location=publicKey.pem
mp.jwt.verify.issuer=quarkus-api
smallrye.jwt.sign.key.location=privateKey.pem
smallrye.jwt.new-token.lifespan=300

# Security Configuration
quarkus.security.jaxrs.deny-unannotated-endpoints=false

# MinIO Configuration
quarkus.minio.host=${MINIO_URL:http://localhost:9000}
quarkus.minio.access-key=${MINIO_ACCESS_KEY:minioadmin}
quarkus.minio.secret-key=${MINIO_SECRET_KEY:minioadmin}
quarkus.minio.secure=${MINIO_SECURE:false}

# MinIO Application Properties
app.minio.bucket=${MINIO_BUCKET:album-images}
app.minio.presigned-url.expiry=30
app.minio.max-file-size=52428800

# Regional API Configuration
quarkus.rest-client.regional-api.url=${REGIONAL_API_URL:https://integrador-argus-api.geia.vip}
quarkus.rest-client.regional-api.scope=jakarta.inject.Singleton
quarkus.rest-client.regional-api.connect-timeout=5000
quarkus.rest-client.regional-api.read-timeout=30000

# Scheduler Configuration
quarkus.scheduler.enabled=true

# OpenAPI Configuration
quarkus.swagger-ui.always-include=true
quarkus.swagger-ui.path=/swagger-ui
mp.openapi.extensions.smallrye.info.title=API REST de Artistas e Álbuns
mp.openapi.extensions.smallrye.info.version=1.0.0
mp.openapi.extensions.smallrye.info.description=API para gerenciamento de catálogo musical contendo artistas e álbuns

# Health Configuration
quarkus.smallrye-health.root-path=/health

# Logging Configuration
quarkus.log.console.enable=true
quarkus.log.console.level=INFO
quarkus.log.category."com.quarkus".level=DEBUG

# Dev Services (desabilitar em produção)
quarkus.devservices.enabled=false

# Profile specific configurations
%dev.quarkus.log.console.level=DEBUG
%dev.quarkus.hibernate-orm.log.sql=true
%dev.quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/music_catalog
%dev.quarkus.devservices.enabled=false

%test.quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/music_catalog_test
%test.quarkus.hibernate-orm.database.generation=none
%test.quarkus.flyway.migrate-at-start=true
%test.quarkus.flyway.clean-at-start=true
%test.app.rate-limit.enabled=false

%prod.quarkus.log.console.level=INFO
%prod.quarkus.hibernate-orm.log.sql=false
